# 라인 트레이서 수정 내역

## 📅 2024-11-12 패치

### 🔧 주요 수정사항

1. **함수명 변경**
   - `main()` → `lane_follow_loop()`
   - main.py에서 import 오류 해결

2. **HSV 색상 범위 조정**
   - 이전: `[80, 50, 50] ~ [100, 255, 255]`
   - 변경: `[65, 20, 20] ~ [115, 255, 255]`
   - 더 넓은 청록색 범위로 인식률 향상

3. **픽셀 임계값 단순화**
   - 동적 계산 제거
   - 고정값 1200 사용 (단순화 버전과 동일)

4. **코드 구조 개선**
   - 불필요한 복잡도 감소
   - 주석 추가

### ✅ 테스트 체크리스트

라즈베리파이에서 테스트 시 확인 사항:

- [ ] main.py 실행 시 정상 작동
- [ ] 청록색 라인 인식 여부
- [ ] 교차로 감지 기능
- [ ] 객체 인식 트리거
- [ ] 키보드 제어 반응

### 🎯 추가 권장사항

1. **픽셀 임계값 미세조정**
   ```python
   PIXEL_THRESHOLD = 1200  # 현재 값
   # 라인을 못 찾으면 → 값을 낮추기 (예: 800)
   # 너무 민감하면 → 값을 높이기 (예: 1500)
   ```

2. **HSV 범위 테스트**
   - 실제 트랙 조명 환경에 따라 조정 필요
   - OpenCV 색상 피커 도구 활용 권장

3. **속도 조절**
   ```python
   SPEED_FORWARD_DEFAULT = 0.75  # 직진 속도
   SPEED_TURN_DEFAULT = 0.55     # 회전 속도
   # 트랙 특성에 맞게 조정
   ```

### 📝 실행 방법

```bash
# 개별 실행 (테스트용)
python3 lane_tracer.py

# 통합 시스템 실행 (권장)
python3 main.py
```

### ⚠️ 주의사항

- 라즈베리파이 환경에서만 정상 작동
- 카메라 권한 필요
- GPIO 핀 연결 확인 필수